"use strict";$(function(){$(".record").click(function(){if(!mix_fn.isPrower("Record"))return!1;if($(this).find(".icon-stoprecord").hasClass("hide"))$("#RecordPGM").css("display","block");else{var r=$(".record").attr("data-params"),e={rid:$(".rList-show").attr("data-peerId"),params:r};o=e,oUtils.ajaxReq("/producerpro/record/stop_record",o,function(r){var e=r.errorCode;"0x0"==e&&($(".record").find($(".icon-stoprecord")).addClass("hide"),$(".record").find($(".icon-record")).removeClass("hide"),clockObj.recordSeconds=0,$(".recordTime").html("00:00:00"),clearInterval(clockObj.recordTimer))})}var o}),$(".recordBtn").click(function(){var r,e=$("#RecordPGM").find(".resolutionTypeList").attr("data-value"),o=$("#RecordPGM").find(".BitrateTypeList .dropdownDefault_value").text(),t=o.indexOf("b"),d={Resolution:e,VBitrate:o=o.slice(0,t)},c={rid:$(".rList-show").attr("data-peerId"),params:JSON.stringify(d)};$(".record").attr("data-params",JSON.stringify(d)),r=c,oUtils.ajaxReq("/producerpro/record/start_record",r,function(r){var e=r.errorCode;"0x0"==e&&($(".record").find($(".icon-record")).addClass("hide"),$(".record").find($(".icon-stoprecord")).removeClass("hide"),$("#RecordPGM").css("display","none"),clearInterval(clockObj.recordTimer),clockObj.recordTimer=setInterval(function(){clockObj.recordSeconds++,$(".recordTime").html(transTimeByms(clockObj.recordSeconds))},1e3))})}),$("#RecordPGM,#detailPush").on("click",".BitrateTypeList",function(){$(this).find(".dropdownDefault_value").attr("contenteditable","true"),$(this).find(".dropdownDefault_value").css("white-space","pre")}),$("#RecordPGM,#detailPush").on("keyup",".dropdownDefault_value",function(){var r=$(this).text(),e=RegExp(/Kbps/);r.match(e)||(r+="Kbps",$(this).text(r))})});