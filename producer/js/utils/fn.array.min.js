(function(){Array.name="Array";var a=Array.prototype;function b(c,e,d){e=e||function(i){return i};var h=[];var k={};var j={};if(typeof d!="undefined"){if(d.constructor.name!="Array"){d=[d]}for(var f=0;f<d.length;f++){k[e(d[f])]=true}}for(var f=0;f<this.length;f++){var g=e(this[f]);switch(c){case"reduce":if(!k[g]){h.push(this[f])}break;case"intersect":if(k[g]){h.push(this[f])}break;case"getRepeat":if(k[g]){j[g]=j[g]||1;j[g]++}else{k[g]=true}break;default:break}}if(c=="getRepeat"){h=j}return h}a.reduce=function(c,d){return b.apply(this,["reduce",d,c])};a.intersect=function(c,d){return b.apply(this,["intersect",d,c])};a.contain=function(){return this.intersect.apply(this,arguments).length>0};a.equal=function(d,f,e){f=f||function(i){return i};e=e?true:false;var l=[];var m={};if(d.constructor.name!="Array"){d=[d]}if(d.length!=this.length){return false}for(var g=0;g<d.length;g++){m[f(d[g])]=g}for(var h=0;h<this.length;h++){var k=f(this[h]);var g=m[k];if(g!=undefined){if(e){if(g!=h){l=[];break}else{l.push(this[h])}}else{l.push(this[h])}}}var c=e?(l.length==d.length):(l.length==this.length&&l.length==d.length);return c};a.getRepeat=function(c){return b.apply(this,["getRepeat",c])};a.merge=function(c,e,f){f=f||function(i,l){return i};var d=function(i,l){var m=i;if(typeof i=="object"){var m={};for(p in i){m[p]=i[p]}}var n=l;if(typeof l=="object"){var n={};for(p in l){n[p]=l[p]}}f(m,n)};e=e||function(i){return i};var j=[];var k={};if(c.constructor.name!="Array"){c=[c]}for(var g=0;g<c.length;g++){k[e(c[g])]=c[g]}for(var g=0;g<this.length;g++){var h=e(this[g]);if(k[h]){j.push(f(this[g],k[h]))}}return j};a.substr=function(d,e,g){var f=[];g=g||"";for(var c=0;c<this.length;c++){if(typeof this[c]=="string"){f.push(this[c].substr(d,e)+g)}}return f};a.getValueByKey=function(d){var e=[];for(var c=0;c<this.length;c++){if(typeof this[c][d]=="undefined"){console.log("Num "+(c+1)+" has no this attribute.");continue}else{e.push(this[c][d])}}return e};a.sortValue=function(c){c=c||function(i){return i};var e=c(this[0]);var g=e,f=e,h={};for(var d=0;d<this.length;d++){var j=c(this[d]);if(f<j){f=j}if(g>j){g=j}}h.min=g;h.max=f;return h};a.reOrder=function(k,d){k=k==null?"sort":k;if(k!="sort"&&k!="reverse"){console.log("The first argument only can be 'sort' or 'reverse' or null.");return}d=d||function(i){return i};var f=d(this[0]);var o=f;function c(i,j,q){return i=="sort"?(j>=q):(j<=q)}var h=this.length;for(var e=1;e<h;e++){var l=d(this[e]);if(c(k,o,l)){var m=this[e-1];var n=this[e];this[e-1]=n;this[e]=m;for(var g=0;g<e-1;g++){if(c(k,d(this[g]),l)){this.splice(g,0,n);this.splice(e,1);break}}}o=d(this[e])}return this};a.reOrderBy=function(k,d){var h=[];d=d||function(i){return i};var l=k.length;function c(n){var m=l;for(var j=0;j<l;j++){if(n==k[j]){m=j;break}}return m}var g=this.length;for(var e=0;e<g;e++){if(e==0){h.push(this[e])}else{for(var f=0;f<=e-1;f++){if(c(d(h[f]))>c(d(this[e]))){h.splice(f,0,this[e]);break}else{if(f==e-1){h.push(this[e])}}}}}return h};a.getArrayByTreeArray=function(){var d=[];for(var c=0;c<this.length;c++){if(this[c]&&this[c].constructor.name=="Array"){d=d.concat(this[c].getArrayByTreeArray())}else{d.push(this[c])}}return d};a.rebuildByKey=function(o,q,n){var t=[];var u={};var m=typeof n!="undefined"?n.split("&"):[];var r=(q!=null)&&(q!=false)?true:false;for(var g=0;g<this.length;g++){var d=this[g][o];if(!u[d]){u[d]=true;var s={};if(r){s[q]=[];var e={}}for(var h in this[g]){if(typeof this[g]!="function"){if(h==o||m.contain(h)){s[h]=this[g][h]}else{if(r){e[h]=this[g][h]}}}}if(r){s[q].push(e)}t.push(s)}else{var c=-1;var f=0;for(var l in u){if(typeof u!="function"){c++;if(l==d){f=c;break}}}if(r){var e={};for(var h in this[g]){if(typeof this[g]!="function"&&h!=o&&!m.contain(h)){e[h]=this[g][h]}}t[c][q].push(e)}}}return t}})();